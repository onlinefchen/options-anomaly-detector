<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊúüÊùÉÂ∏ÇÂú∫ÂºÇÂ∏∏ÂàÜÊûêÊä•Âëä</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Courier New", Courier, monospace;
            background: #f5f5f7;
            padding: 40px 20px;
            color: #1d1d1f;
            line-height: 1.4;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: #fff;
            padding: 40px;
            border: 1px solid #d2d2d7;
            margin-bottom: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #1d1d1f;
            letter-spacing: -0.5px;
        }

        .header .date {
            color: #6e6e73;
            font-size: 14px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1px;
            margin-bottom: 20px;
            background: #d2d2d7;
            border: 1px solid #d2d2d7;
        }

        .stat-card {
            background: #fff;
            padding: 24px;
            text-align: center;
        }

        .stat-card .number {
            font-size: 36px;
            font-weight: 600;
            margin: 8px 0;
            color: #1d1d1f;
        }

        .stat-card .label {
            color: #6e6e73;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-card.high .number { color: #1d1d1f; }
        .stat-card.medium .number { color: #1d1d1f; }
        .stat-card.low .number { color: #1d1d1f; }
        .stat-card.total .number { color: #1d1d1f; }

        .nav {
            background: #fff;
            padding: 16px 24px;
            border: 1px solid #d2d2d7;
            margin-bottom: 20px;
            text-align: center;
        }

        .nav a {
            display: inline-block;
            padding: 8px 16px;
            margin: 0 4px;
            background: #000;
            color: #fff;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: background 0.2s;
        }

        .nav a:hover {
            background: #333;
        }

        .section {
            background: #fff;
            padding: 32px;
            border: 1px solid #d2d2d7;
            margin-bottom: 20px;
        }

        .section h2 {
            margin-bottom: 24px;
            color: #1d1d1f;
            font-size: 24px;
            font-weight: 600;
            letter-spacing: -0.3px;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 24px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
            border: 1px solid #d2d2d7;
        }

        table th {
            background: #f5f5f7;
            color: #1d1d1f;
            padding: 8px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
            border-bottom: 1px solid #d2d2d7;
        }

        table th.sortable {
            cursor: pointer;
            user-select: none;
            position: relative;
        }

        table th.sortable:hover {
            background: #e8e8ed;
        }

        table th.sortable.sorted-asc .sort-icon::after {
            content: ' ^';
        }

        table th.sortable.sorted-desc .sort-icon::after {
            content: ' v';
        }

        .sort-icon {
            font-size: 12px;
            opacity: 0.5;
            margin-left: 4px;
        }

        table td {
            padding: 8px 12px;
            border-bottom: 1px solid #d2d2d7;
            font-size: 13px;
        }

        table tr:hover {
            background: #f5f5f7;
        }


        .compact-cell {
            font-size: 12px;
            line-height: 1.4;
            padding: 6px 10px !important;
        }

        .compact-cell div {
            margin: 2px 0;
        }

        .contract-item {
            white-space: nowrap;
        }

        .oi-badge {
            background: #f5f5f7;
            padding: 2px 6px;
            font-size: 11px;
            color: #1d1d1f;
            white-space: nowrap;
        }

        .pct {
            color: #6e6e73;
            font-size: 12px;
        }

        .compact-cell small {
            color: #86868b;
            font-size: 11px;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            color: #fff;
            background: #000;
            font-size: 12px;
            font-weight: 500;
        }

        .macro-content {
            line-height: 1.8;
            font-size: 14px;
        }

        .macro-content p {
            margin: 16px 0;
        }

        .macro-content strong {
            font-weight: 600;
            color: #1d1d1f;
        }

        .macro-content ul {
            margin: 12px 0;
            padding-left: 24px;
        }

        .macro-content li {
            margin: 8px 0;
        }

        .footer {
            text-align: center;
            color: #6e6e73;
            margin-top: 40px;
            padding: 20px;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .stats {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 24px;
            }
            .nav a {
                display: block;
                margin: 8px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Options Market Anomaly Analysis</h1>
            <p class="date">üîí <strong>Áæé‰∏úÊó∂Èó¥:</strong> 2025-11-02 09:07:20 EST | <strong>‰∏úÂÖ´Âå∫Êó∂Èó¥:</strong> 2025-11-02 22:07:20 | <strong>‰∫§ÊòìÊó∂ÊÆµ:</strong> ‰ºëÂ∏Ç (Market Closed) | <strong>Êï∞ÊçÆÊù•Ê∫ê:</strong> CSVÊñá‰ª∂ (2025-10-22.csv.gz)</p>
        </div>

        <div class="nav">
            <a href="index.html">Latest Report</a>
            <a href="archive.html">Archive</a>
        </div>

        <div class="stats">
            <div class="stat-card total">
                <div class="label">ÂàÜÊûêËÇ°Á•®Êï∞</div>
                <div class="number">4325</div>
            </div>
            <div class="stat-card total">
                <div class="label">ÂºÇÂ∏∏ÊÄªÊï∞</div>
                <div class="number">3346</div>
            </div>
            <div class="stat-card high">
                <div class="label">È´ò‰∏•Èáç</div>
                <div class="number">3339</div>
            </div>
            <div class="stat-card medium">
                <div class="label">‰∏≠‰∏•Èáç</div>
                <div class="number">7</div>
            </div>
            <div class="stat-card low">
                <div class="label">‰Ωé‰∏•Èáç</div>
                <div class="number">0</div>
            </div>
        </div>

        <div class="section">
            <h2>Macro Market Outlook</h2>
            <div class="macro-content">
                <strong>Market Sentiment &amp; Positioning</strong>

<ul><li>The Call/Put (C/P) volume ratios for SPY (0.81) and QQQ (0.89) are slightly below 1, indicating a modest preference for puts over calls, suggesting a cautious or hedging stance among investors. However, these ratios do not indicate extreme bearishness. In contrast, IWM's lower C/P volume ratio (0.53) suggests a more significant inclination towards puts, potentially reflecting concerns about small-cap volatility or economic sensitivity.</li>

<li>The absence of open interest data (OI) and specific top contract information limits insights into specific positioning. However, the skew towards put volume, particularly in IWM, may indicate protective positioning or expectations of volatility.</li>

<li>The lack of strike concentration data makes it difficult to ascertain specific hedging levels or directional bets. The overall pattern suggests caution but not panic, likely reflecting uncertainty amidst mixed macro signals.</li>

<strong>Macro Outlook</strong>

<li>The current macro environment is characterized by a cautious Federal Reserve navigating a high-inflation, slow-growth scenario. While the Fed may be nearing the end of its tightening cycle, inflation remains a concern, and any signs of persistent price pressures could alter the rate trajectory.</li>

<li>Key risks include geopolitical tensions affecting energy supplies, potential for policy missteps by central banks, and vulnerabilities in credit markets, particularly if economic growth falters.</li>

<li>Opportunities may arise from sectors benefiting from structural shifts like energy transition or technological innovation, though investors should remain vigilant to valuation risks.</li>

<li>Investors should watch for upcoming Fed communications, inflation data releases, and geopolitical developments, as these will heavily influence market sentiment and positioning.</li></ul>

<strong>Key Takeaways</strong>

<p>1. <strong>Cautious Sentiment:</strong> Current options data reflects a cautious market sentiment with a slight preference for puts, particularly in small-cap stocks, indicating concerns over economic sensitivity.</p>

<p>2. <strong>Macro Uncertainty:</strong> The macro environment remains uncertain, with the Fed's policy path and inflation trajectory being pivotal for future market direction.</p>

<p>3. <strong>Risk Factors:</strong> Geopolitical tensions, inflation persistence, and credit market vulnerabilities are key risks to monitor.</p>

<p>4. <strong>Opportunity and Vigilance:</strong> While certain sectors may present opportunities, investors should remain vigilant to valuations and macroeconomic signals.</p>

<p>5. <strong>Watch for Catalysts:</strong> Upcoming economic data and Fed communications will be critical in shaping short-term market moves.</p>
            </div>
        </div>

        <div class="section">
            <h2>Market Indices (3)</h2>
            <table id="indexTable">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th class="sortable" data-table="index" data-column="ticker" data-type="string">Ticker <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="index" data-column="total_volume" data-type="number">Total Volume <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="index" data-column="cp_volume_ratio" data-type="number">C/P Volume <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="index" data-column="total_oi" data-type="number">Total OI <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="index" data-column="cp_oi_ratio" data-type="number">C/P OI <span class="sort-icon"></span></th>
                        <th>Top 3 Contracts</th>
                        <th>10-Day Activity</th>
                        <th>Streak</th>
                    </tr>
                </thead>
                <tbody id="indexTableBody">
                    
                <tr>
                    <td>1</td>
                    <td><strong>SPY</strong></td>
                    <td>1022.67W</td>
                    <td>0.81</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $682.06</small></div></td>
                    <td class="compact-cell">
                <div><strong>10/10 [HOT]</strong> -</div>
                <div><small>Avg Rank: 1.0</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>10</strong></td>
                </tr>
            
                <tr>
                    <td>2</td>
                    <td><strong>QQQ</strong></td>
                    <td>556.37W</td>
                    <td>0.89</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $629.05</small></div></td>
                    <td class="compact-cell">
                <div><strong>10/10 [HOT]</strong> +1</div>
                <div><small>Avg Rank: 2.1</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>10</strong></td>
                </tr>
            
                <tr>
                    <td>3</td>
                    <td><strong>IWM</strong></td>
                    <td>209.67W</td>
                    <td>0.53</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $246.23</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -2</div>
                <div><small>Avg Rank: 6.4</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Stocks & ETFs - Top 25 (2025-11-02 from 2025-10-22.csv.gz)</h2>
            <table id="stockTable">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th class="sortable" data-table="stock" data-column="ticker" data-type="string">Ticker <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="stock" data-column="total_volume" data-type="number">Total Volume <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="stock" data-column="cp_volume_ratio" data-type="number">C/P Volume <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="stock" data-column="total_oi" data-type="number">Total OI <span class="sort-icon"></span></th>
                        <th class="sortable" data-table="stock" data-column="cp_oi_ratio" data-type="number">C/P OI <span class="sort-icon"></span></th>
                        <th>Top 3 Contracts</th>
                        <th>10-Day Activity</th>
                        <th>Streak</th>
                    </tr>
                </thead>
                <tbody id="stockTableBody">
                    
                <tr>
                    <td>1</td>
                    <td><strong>BYND</strong></td>
                    <td>332.24W</td>
                    <td>1.38</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $1.66</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -8</div>
                <div><small>Avg Rank: 10.8</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>2</td>
                    <td><strong>NVDA</strong></td>
                    <td>220.79W</td>
                    <td>1.94</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $202.62</small></div></td>
                    <td class="compact-cell">
                <div><strong>10/10 [HOT]</strong> -2</div>
                <div><small>Avg Rank: 4.1</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>10</strong></td>
                </tr>
            
                <tr>
                    <td>3</td>
                    <td><strong>TSLA</strong></td>
                    <td>147.54W</td>
                    <td>1.27</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $456.10</small></div></td>
                    <td class="compact-cell">
                <div><strong>10/10 [HOT]</strong> -</div>
                <div><small>Avg Rank: 5.7</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>10</strong></td>
                </tr>
            
                <tr>
                    <td>4</td>
                    <td><strong>GLD</strong></td>
                    <td>111.47W</td>
                    <td>1.55</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $368.12</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -13</div>
                <div><small>Avg Rank: 10.9</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>5</td>
                    <td><strong>SLV</strong></td>
                    <td>85.37W</td>
                    <td>1.96</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $44.01</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -8</div>
                <div><small>Avg Rank: 16.6</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>6</td>
                    <td><strong>PLTR</strong></td>
                    <td>81.78W</td>
                    <td>1.39</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $201.56</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -8</div>
                <div><small>Avg Rank: 15.2</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>7</td>
                    <td><strong>AAPL</strong></td>
                    <td>81.50W</td>
                    <td>1.95</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $270.04</small></div></td>
                    <td class="compact-cell">
                <div><strong>10/10 [HOT]</strong> +3</div>
                <div><small>Avg Rank: 11.4</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>10</strong></td>
                </tr>
            
                <tr>
                    <td>8</td>
                    <td><strong>AMD</strong></td>
                    <td>70.88W</td>
                    <td>1.38</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $256.85</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -3</div>
                <div><small>Avg Rank: 13.2</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>9</td>
                    <td><strong>IBIT</strong></td>
                    <td>69.20W</td>
                    <td>2.26</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $62.21</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -1</div>
                <div><small>Avg Rank: 13.5</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>10</td>
                    <td><strong>AMZN</strong></td>
                    <td>61.56W</td>
                    <td>3.02</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $244.30</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> +5</div>
                <div><small>Avg Rank: 13.8</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>11</td>
                    <td><strong>OPEN</strong></td>
                    <td>54.70W</td>
                    <td>3.20</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $7.78</small></div></td>
                    <td class="compact-cell">
                <div><strong>7/10 [ACT]</strong> +2</div>
                <div><small>Avg Rank: 21.7</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                <tr>
                    <td>12</td>
                    <td><strong>TLT</strong></td>
                    <td>49.68W</td>
                    <td>2.08</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $90.38</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -9</div>
                <div><small>Avg Rank: 20.5</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>13</td>
                    <td><strong>SPX</strong></td>
                    <td>49.39W</td>
                    <td>0.35</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><small>N/A</small></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -6</div>
                <div><small>Avg Rank: 22.2</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>14</td>
                    <td><strong>NFLX</strong></td>
                    <td>49.36W</td>
                    <td>1.15</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $1122.00</small></div></td>
                    <td class="compact-cell">
                <div><strong>2/10 [NEW]</strong> -1</div>
                <div><small>Avg Rank: 19.5</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                <tr>
                    <td>15</td>
                    <td><strong>INTC</strong></td>
                    <td>46.67W</td>
                    <td>1.91</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $39.91</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -9</div>
                <div><small>Avg Rank: 16.5</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>16</td>
                    <td><strong>HOOD</strong></td>
                    <td>45.11W</td>
                    <td>1.70</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $147.32</small></div></td>
                    <td class="compact-cell">
                <div><strong>4/10 [OCC]</strong> -3</div>
                <div><small>Avg Rank: 24.8</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                <tr>
                    <td>17</td>
                    <td><strong>SOFI</strong></td>
                    <td>41.69W</td>
                    <td>2.58</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $29.63</small></div></td>
                    <td class="compact-cell">
                <div><strong>8/10 [ACT]</strong> -5</div>
                <div><small>Avg Rank: 17.8</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>4</strong></td>
                </tr>
            
                <tr>
                    <td>18</td>
                    <td><strong>GOOGL</strong></td>
                    <td>40.06W</td>
                    <td>1.86</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $280.71</small></div></td>
                    <td class="compact-cell">
                <div><strong>9/10 [HOT]</strong> -1</div>
                <div><small>Avg Rank: 15.6</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>7</strong></td>
                </tr>
            
                <tr>
                    <td>19</td>
                    <td><strong>MSTR</strong></td>
                    <td>35.67W</td>
                    <td>1.33</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $270.13</small></div></td>
                    <td class="compact-cell">
                <div><strong>7/10 [ACT]</strong> +13</div>
                <div><small>Avg Rank: 23.1</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>1</strong></td>
                </tr>
            
                <tr>
                    <td>20</td>
                    <td><strong>UUUU</strong></td>
                    <td>35.59W</td>
                    <td>2.83</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $20.51</small></div></td>
                    <td class="compact-cell">
                <div><strong>2/10 [NEW]</strong> +3</div>
                <div><small>Avg Rank: 23.5</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                <tr>
                    <td>21</td>
                    <td><strong>MARA</strong></td>
                    <td>33.71W</td>
                    <td>4.76</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $18.25</small></div></td>
                    <td class="compact-cell">
                <div><strong>2/10 [NEW]</strong> +3</div>
                <div><small>Avg Rank: 24.5</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>1</strong></td>
                </tr>
            
                <tr>
                    <td>22</td>
                    <td><strong>RGTI</strong></td>
                    <td>33.10W</td>
                    <td>0.61</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $44.53</small></div></td>
                    <td class="compact-cell">
                <div><strong>2/10 [NEW]</strong> +12</div>
                <div><small>Avg Rank: 21.0</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                <tr>
                    <td>23</td>
                    <td><strong>MSFT</strong></td>
                    <td>30.74W</td>
                    <td>1.90</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $517.71</small></div></td>
                    <td class="compact-cell">
                <div><strong>6/10 [ACT]</strong> +2</div>
                <div><small>Avg Rank: 15.0</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;"><strong>3</strong></td>
                </tr>
            
                <tr>
                    <td>24</td>
                    <td><strong>GDX</strong></td>
                    <td>27.31W</td>
                    <td>1.31</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $72.06</small></div></td>
                    <td class="compact-cell">
                <div><strong>2/10 [NEW]</strong> -8</div>
                <div><small>Avg Rank: 25.0</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                <tr>
                    <td>25</td>
                    <td><strong>CRWV</strong></td>
                    <td>27.07W</td>
                    <td>2.28</td>
                    <td>0.00W</td>
                    <td>0.00</td>
                    <td class="compact-cell"><div><small>Current: $134.02</small></div></td>
                    <td class="compact-cell">
                <div><strong>1/10 [NEW]</strong> -</div>
                <div><small>Avg Rank: 30.0</small></div>
            </td>
                    <td class="compact-cell" style="text-align: center;">-</td>
                </tr>
            
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Call/Put Ratio Analysis (2025-11-02 from 2025-10-22.csv.gz)</h2>
            <div class="chart-container">
                <canvas id="cpRatioChart"></canvas>
            </div>
        </div>

        <div class="section">
            <h2>Volume Analysis (2025-11-02 from 2025-10-22.csv.gz)</h2>
            <div class="chart-container">
                <canvas id="volumeOIChart"></canvas>
            </div>
        </div>

        <div class="footer">
            <p>Options Anomaly Detection System | Data: Polygon.io</p>
            <p>For reference only. Not investment advice.</p>
        </div>
    </div>

    <script>
        // Store table data for sorting
        const indexData = [{"ticker": "SPY", "total_volume": 10226652, "put_volume": 5645055, "call_volume": 4581597, "cp_volume_ratio": 0.81, "contracts_count": 4512, "put_contracts": 2568, "call_contracts": 1944, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 10, "appearance_rate": 100.0, "avg_rank": 1.0, "best_rank": 1, "worst_rank": 1, "today_rank": 1, "rank_change": 0, "trend": "stable", "streak": 10, "icon": "[HOT]"}, "current_price": 682.06}, {"ticker": "QQQ", "total_volume": 5563706, "put_volume": 2936033, "call_volume": 2627673, "cp_volume_ratio": 0.89, "contracts_count": 3869, "put_contracts": 2052, "call_contracts": 1817, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 10, "appearance_rate": 100.0, "avg_rank": 2.1, "best_rank": 2, "worst_rank": 3, "today_rank": 2, "rank_change": 1, "trend": "stable", "streak": 10, "icon": "[HOT]"}, "current_price": 629.05}, {"ticker": "IWM", "total_volume": 2096739, "put_volume": 1370620, "call_volume": 726119, "cp_volume_ratio": 0.53, "contracts_count": 1964, "put_contracts": 970, "call_contracts": 994, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 6.4, "best_rank": 5, "worst_rank": 9, "today_rank": 7, "rank_change": -2, "trend": "stable", "streak": 4, "icon": "[ACT]"}, "current_price": 246.23}];
        const stockData = [{"ticker": "BYND", "total_volume": 3322370, "put_volume": 1396390, "call_volume": 1925980, "cp_volume_ratio": 1.38, "contracts_count": 546, "put_contracts": 247, "call_contracts": 299, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 10.8, "best_rank": 4, "worst_rank": 25, "today_rank": 25, "rank_change": -8, "trend": "falling", "streak": 4, "icon": "[ACT]"}, "current_price": 1.6597}, {"ticker": "NVDA", "total_volume": 2207899, "put_volume": 752032, "call_volume": 1455867, "cp_volume_ratio": 1.94, "contracts_count": 2418, "put_contracts": 1090, "call_contracts": 1328, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 10, "appearance_rate": 100.0, "avg_rank": 4.1, "best_rank": 2, "worst_rank": 7, "today_rank": 4, "rank_change": -2, "trend": "stable", "streak": 10, "icon": "[HOT]"}, "current_price": 202.62}, {"ticker": "TSLA", "total_volume": 1475390, "put_volume": 649519, "call_volume": 825871, "cp_volume_ratio": 1.27, "contracts_count": 3242, "put_contracts": 1421, "call_contracts": 1821, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 10, "appearance_rate": 100.0, "avg_rank": 5.7, "best_rank": 3, "worst_rank": 13, "today_rank": 6, "rank_change": 0, "trend": "stable", "streak": 10, "icon": "[HOT]"}, "current_price": 456.1}, {"ticker": "GLD", "total_volume": 1114652, "put_volume": 437372, "call_volume": 677280, "cp_volume_ratio": 1.55, "contracts_count": 3712, "put_contracts": 1654, "call_contracts": 2058, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 10.9, "best_rank": 6, "worst_rank": 20, "today_rank": 20, "rank_change": -13, "trend": "falling", "streak": 4, "icon": "[ACT]"}, "current_price": 368.12}, {"ticker": "SLV", "total_volume": 853669, "put_volume": 288483, "call_volume": 565186, "cp_volume_ratio": 1.96, "contracts_count": 1751, "put_contracts": 624, "call_contracts": 1127, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 16.6, "best_rank": 8, "worst_rank": 26, "today_rank": 26, "rank_change": -8, "trend": "falling", "streak": 4, "icon": "[ACT]"}, "current_price": 44.01}, {"ticker": "PLTR", "total_volume": 817764, "put_volume": 342086, "call_volume": 475678, "cp_volume_ratio": 1.39, "contracts_count": 1352, "put_contracts": 609, "call_contracts": 743, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 15.2, "best_rank": 8, "worst_rank": 21, "today_rank": 16, "rank_change": -8, "trend": "stable", "streak": 4, "icon": "[ACT]"}, "current_price": 201.56}, {"ticker": "AAPL", "total_volume": 815030, "put_volume": 276311, "call_volume": 538719, "cp_volume_ratio": 1.95, "contracts_count": 1296, "put_contracts": 612, "call_contracts": 684, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 10, "appearance_rate": 100.0, "avg_rank": 11.4, "best_rank": 5, "worst_rank": 19, "today_rank": 9, "rank_change": 3, "trend": "falling", "streak": 10, "icon": "[HOT]"}, "current_price": 270.04}, {"ticker": "AMD", "total_volume": 708769, "put_volume": 297829, "call_volume": 410940, "cp_volume_ratio": 1.38, "contracts_count": 1748, "put_contracts": 751, "call_contracts": 997, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 13.2, "best_rank": 8, "worst_rank": 17, "today_rank": 17, "rank_change": -3, "trend": "falling", "streak": 4, "icon": "[ACT]"}, "current_price": 256.85}, {"ticker": "IBIT", "total_volume": 692043, "put_volume": 212287, "call_volume": 479756, "cp_volume_ratio": 2.26, "contracts_count": 1477, "put_contracts": 640, "call_contracts": 837, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 13.5, "best_rank": 9, "worst_rank": 18, "today_rank": 12, "rank_change": -1, "trend": "stable", "streak": 4, "icon": "[ACT]"}, "current_price": 62.21}, {"ticker": "AMZN", "total_volume": 615625, "put_volume": 153077, "call_volume": 462548, "cp_volume_ratio": 3.02, "contracts_count": 1454, "put_contracts": 640, "call_contracts": 814, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 13.8, "best_rank": 8, "worst_rank": 20, "today_rank": 8, "rank_change": 5, "trend": "stable", "streak": 4, "icon": "[ACT]"}, "current_price": 244.3}, {"ticker": "OPEN", "total_volume": 546957, "put_volume": 130191, "call_volume": 416766, "cp_volume_ratio": 3.2, "contracts_count": 491, "put_contracts": 195, "call_contracts": 296, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 7, "appearance_rate": 70.0, "avg_rank": 21.7, "best_rank": 10, "worst_rank": 30, "today_rank": 24, "rank_change": 2, "trend": "falling", "streak": 0, "icon": "[ACT]"}, "current_price": 7.78}, {"ticker": "TLT", "total_volume": 496815, "put_volume": 161126, "call_volume": 335689, "cp_volume_ratio": 2.08, "contracts_count": 1170, "put_contracts": 530, "call_contracts": 640, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 20.5, "best_rank": 10, "worst_rank": 30, "today_rank": 19, "rank_change": -9, "trend": "rising", "streak": 4, "icon": "[ACT]"}, "current_price": 90.3783}, {"ticker": "SPX", "total_volume": 493885, "put_volume": 365423, "call_volume": 128462, "cp_volume_ratio": 0.35, "contracts_count": 2616, "put_contracts": 1723, "call_contracts": 893, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 22.2, "best_rank": 17, "worst_rank": 28, "today_rank": 28, "rank_change": -6, "trend": "stable", "streak": 4, "icon": "[ACT]"}, "current_price": null}, {"ticker": "NFLX", "total_volume": 493610, "put_volume": 229393, "call_volume": 264217, "cp_volume_ratio": 1.15, "contracts_count": 2898, "put_contracts": 1273, "call_contracts": 1625, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 2, "appearance_rate": 20.0, "avg_rank": 19.5, "best_rank": 19, "worst_rank": 20, "today_rank": 20, "rank_change": -1, "trend": "stable", "streak": 0, "icon": "[NEW]"}, "current_price": 1122}, {"ticker": "INTC", "total_volume": 466668, "put_volume": 160470, "call_volume": 306198, "cp_volume_ratio": 1.91, "contracts_count": 1008, "put_contracts": 428, "call_contracts": 580, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 16.5, "best_rank": 7, "worst_rank": 29, "today_rank": 29, "rank_change": -9, "trend": "falling", "streak": 4, "icon": "[ACT]"}, "current_price": 39.9097}, {"ticker": "HOOD", "total_volume": 451149, "put_volume": 167090, "call_volume": 284059, "cp_volume_ratio": 1.7, "contracts_count": 1462, "put_contracts": 585, "call_contracts": 877, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 4, "appearance_rate": 40.0, "avg_rank": 24.8, "best_rank": 21, "worst_rank": 27, "today_rank": 27, "rank_change": -3, "trend": "falling", "streak": 0, "icon": "[OCC]"}, "current_price": 147.32}, {"ticker": "SOFI", "total_volume": 416893, "put_volume": 116381, "call_volume": 300512, "cp_volume_ratio": 2.58, "contracts_count": 852, "put_contracts": 352, "call_contracts": 500, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 8, "appearance_rate": 80.0, "avg_rank": 17.8, "best_rank": 7, "worst_rank": 25, "today_rank": 21, "rank_change": -5, "trend": "rising", "streak": 4, "icon": "[ACT]"}, "current_price": 29.63}, {"ticker": "GOOGL", "total_volume": 400596, "put_volume": 140095, "call_volume": 260501, "cp_volume_ratio": 1.86, "contracts_count": 1290, "put_contracts": 611, "call_contracts": 679, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 9, "appearance_rate": 90.0, "avg_rank": 15.6, "best_rank": 7, "worst_rank": 29, "today_rank": 10, "rank_change": -1, "trend": "stable", "streak": 7, "icon": "[HOT]"}, "current_price": 280.71}, {"ticker": "MSTR", "total_volume": 356693, "put_volume": 153234, "call_volume": 203459, "cp_volume_ratio": 1.33, "contracts_count": 1930, "put_contracts": 859, "call_contracts": 1071, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 7, "appearance_rate": 70.0, "avg_rank": 23.1, "best_rank": 14, "worst_rank": 28, "today_rank": 14, "rank_change": 13, "trend": "stable", "streak": 1, "icon": "[ACT]"}, "current_price": 270.13}, {"ticker": "UUUU", "total_volume": 355950, "put_volume": 93033, "call_volume": 262917, "cp_volume_ratio": 2.83, "contracts_count": 634, "put_contracts": 261, "call_contracts": 373, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 2, "appearance_rate": 20.0, "avg_rank": 23.5, "best_rank": 22, "worst_rank": 25, "today_rank": 22, "rank_change": 3, "trend": "stable", "streak": 0, "icon": "[NEW]"}, "current_price": 20.51}, {"ticker": "MARA", "total_volume": 337066, "put_volume": 58518, "call_volume": 278548, "cp_volume_ratio": 4.76, "contracts_count": 666, "put_contracts": 256, "call_contracts": 410, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 2, "appearance_rate": 20.0, "avg_rank": 24.5, "best_rank": 23, "worst_rank": 26, "today_rank": 23, "rank_change": 3, "trend": "stable", "streak": 1, "icon": "[NEW]"}, "current_price": 18.2497}, {"ticker": "RGTI", "total_volume": 331010, "put_volume": 206026, "call_volume": 124984, "cp_volume_ratio": 0.61, "contracts_count": 1124, "put_contracts": 540, "call_contracts": 584, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 2, "appearance_rate": 20.0, "avg_rank": 21.0, "best_rank": 15, "worst_rank": 27, "today_rank": 15, "rank_change": 12, "trend": "stable", "streak": 0, "icon": "[NEW]"}, "current_price": 44.53}, {"ticker": "MSFT", "total_volume": 307361, "put_volume": 105861, "call_volume": 201500, "cp_volume_ratio": 1.9, "contracts_count": 1590, "put_contracts": 726, "call_contracts": 864, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 6, "appearance_rate": 60.0, "avg_rank": 15.0, "best_rank": 6, "worst_rank": 28, "today_rank": 13, "rank_change": 2, "trend": "falling", "streak": 3, "icon": "[ACT]"}, "current_price": 517.71}, {"ticker": "GDX", "total_volume": 273087, "put_volume": 118090, "call_volume": 154997, "cp_volume_ratio": 1.31, "contracts_count": 873, "put_contracts": 358, "call_contracts": 515, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 2, "appearance_rate": 20.0, "avg_rank": 25.0, "best_rank": 21, "worst_rank": 29, "today_rank": 29, "rank_change": -8, "trend": "stable", "streak": 0, "icon": "[NEW]"}, "current_price": 72.06}, {"ticker": "CRWV", "total_volume": 270685, "put_volume": 82599, "call_volume": 188086, "cp_volume_ratio": 2.28, "contracts_count": 1204, "put_contracts": 514, "call_contracts": 690, "total_oi": 0, "put_oi": 0, "call_oi": 0, "cp_oi_ratio": 0, "history": {"appearances": 1, "appearance_rate": 10.0, "avg_rank": 30.0, "best_rank": 30, "worst_rank": 30, "today_rank": 30, "rank_change": 0, "trend": "stable", "streak": 0, "icon": "[NEW]"}, "current_price": 134.02}];

        let indexSortColumn = 'total_volume';
        let indexSortOrder = 'desc';
        let stockSortColumn = 'total_volume';
        let stockSortOrder = 'desc';

        // Table sorting function
        function sortTable(tableType, column, type) {
            const tableData = tableType === 'index' ? indexData : stockData;
            const currentSortColumn = tableType === 'index' ? indexSortColumn : stockSortColumn;
            const currentSortOrder = tableType === 'index' ? indexSortOrder : stockSortOrder;
            // Toggle sort order if clicking same column
            let newSortOrder;
            if (currentSortColumn === column) {
                newSortOrder = currentSortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                newSortOrder = 'desc'; // Default to descending
            }

            // Update state
            if (tableType === 'index') {
                indexSortColumn = column;
                indexSortOrder = newSortOrder;
            } else {
                stockSortColumn = column;
                stockSortOrder = newSortOrder;
            }

            // Sort data
            const sortedData = [...tableData].sort((a, b) => {
                let valA = a[column];
                let valB = b[column];

                // Handle string comparison
                if (type === 'string') {
                    valA = String(valA).toLowerCase();
                    valB = String(valB).toLowerCase();
                    return newSortOrder === 'asc'
                        ? valA.localeCompare(valB)
                        : valB.localeCompare(valA);
                }

                // Handle number comparison
                valA = Number(valA) || 0;
                valB = Number(valB) || 0;
                return newSortOrder === 'asc' ? valA - valB : valB - valA;
            });

            // Update table
            renderTable(tableType, sortedData);

            // Update sort indicators (only for this table)
            const tableSelector = tableType === 'index' ? '#indexTable' : '#stockTable';
            document.querySelectorAll(`${tableSelector} th.sortable`).forEach(th => {
                th.classList.remove('sorted-asc', 'sorted-desc');
            });
            const activeHeader = document.querySelector(`${tableSelector} th[data-column="${column}"]`);
            if (activeHeader) {
                activeHeader.classList.add(`sorted-${newSortOrder}`);
            }
        }

        // Helper: Format contract short form (e.g., 250131C600)
        function formatContractShort(contract) {
            try {
                let expiry = contract.expiry || '';
                if (expiry) {
                    // Extract YYMMDD from 2025-01-31
                    expiry = expiry.replace(/-/g, '').slice(-6);
                }
                const contractType = (contract.type || 'X')[0].toUpperCase();
                const strike = Math.floor(contract.strike || 0);
                return `${expiry}${contractType}${strike}`;
            } catch (e) {
                return 'N/A';
            }
        }

        // Render table with data
        function renderTable(tableType, data) {
            const tbodyId = tableType === 'index' ? 'indexTableBody' : 'stockTableBody';
            const tbody = document.getElementById(tbodyId);
            tbody.innerHTML = '';

            data.forEach((item, idx) => {
                // Format volume and OI in ‰∏á (W) with 2 decimal places
                const volumeW = (item.total_volume / 10000).toFixed(2) + 'W';
                const oiW = (item.total_oi / 10000).toFixed(2) + 'W';

                // Format Top 3 contracts with Current Price at the beginning
                let top3Html = '';
                const currentPrice = item.current_price;
                if (currentPrice) {
                    top3Html += `<div><small>Current: $${currentPrice.toFixed(2)}</small></div>`;
                }

                const top3Contracts = item.top_3_contracts || [];
                top3Contracts.slice(0, 3).forEach((contract, i) => {
                    const contractShort = formatContractShort(contract);
                    const oiK = (contract.oi || 0) / 1000;
                    const pct = contract.percentage || 0;
                    top3Html += `<div class='contract-item'>${i + 1}. ${contractShort} <span class='oi-badge'>${Math.round(oiK)}K (${pct.toFixed(1)}%)</span></div>`;
                });
                if (!top3Html) {
                    top3Html = '<small>N/A</small>';
                }

                // Format history
                const history = item.history || {};
                const appearances = history.appearances || 0;
                const icon = history.icon || '[NEW]';
                const rankChange = history.rank_change;
                const avgRank = history.avg_rank;

                let rankSymbol = '-';
                if (rankChange !== null && rankChange !== undefined && rankChange !== 0) {
                    if (rankChange > 0) {
                        rankSymbol = `+${rankChange}`;
                    } else {
                        rankSymbol = `-${Math.abs(rankChange)}`;
                    }
                }

                const historyHtml = `
                    <div><strong>${appearances}/10 ${icon}</strong> ${rankSymbol}</div>
                    <div><small>Avg Rank: ${avgRank || 'N/A'}</small></div>
                `;

                // Streak (consecutive days)
                const streak = history.streak || 0;
                const streakHtml = streak > 0 ? `<strong>${streak}</strong>` : '-';

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${idx + 1}</td>
                    <td><strong>${item.ticker}</strong></td>
                    <td>${volumeW}</td>
                    <td>${item.cp_volume_ratio.toFixed(2)}</td>
                    <td>${oiW}</td>
                    <td>${item.cp_oi_ratio.toFixed(2)}</td>
                    <td class="compact-cell">${top3Html}</td>
                    <td class="compact-cell">${historyHtml}</td>
                    <td class="compact-cell" style="text-align: center;">${streakHtml}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Add click handlers to sortable headers
        document.addEventListener('DOMContentLoaded', () => {
            // Setup sorting for index table
            document.querySelectorAll('#indexTable th.sortable').forEach(th => {
                th.addEventListener('click', () => {
                    const column = th.dataset.column;
                    const type = th.dataset.type;
                    sortTable('index', column, type);
                });
            });

            // Setup sorting for stock table
            document.querySelectorAll('#stockTable th.sortable').forEach(th => {
                th.addEventListener('click', () => {
                    const column = th.dataset.column;
                    const type = th.dataset.type;
                    sortTable('stock', column, type);
                });
            });

            // Set initial sort indicators for both tables
            const indexHeader = document.querySelector('#indexTable th[data-column="total_volume"]');
            if (indexHeader) {
                indexHeader.classList.add('sorted-desc');
            }
            const stockHeader = document.querySelector('#stockTable th[data-column="total_volume"]');
            if (stockHeader) {
                stockHeader.classList.add('sorted-desc');
            }
        });

        // Combined Volume & OI Chart
        const volumeData = [3322370, 2207899, 1475390, 1114652, 853669, 817764, 815030, 708769, 692043, 615625, 546957, 496815, 493885, 493610, 466668, 451149, 416893, 400596, 356693, 355950, 337066, 331010, 307361, 273087, 270685];
        const oiData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        const volumeOICtx = document.getElementById('volumeOIChart').getContext('2d');

        new Chart(volumeOICtx, {
            type: 'bar',
            data: {
                labels: ["BYND", "NVDA", "TSLA", "GLD", "SLV", "PLTR", "AAPL", "AMD", "IBIT", "AMZN", "OPEN", "TLT", "SPX", "NFLX", "INTC", "HOOD", "SOFI", "GOOGL", "MSTR", "UUUU", "MARA", "RGTI", "MSFT", "GDX", "CRWV"],
                datasets: [
                    {
                        label: 'ÊÄªÊàê‰∫§Èáè',
                        data: volumeData,
                        backgroundColor: 'rgba(102, 126, 234, 0.8)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'ÊåÅ‰ªìÈáè',
                        data: oiData,
                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Êàê‰∫§Èáè & ÊåÅ‰ªìÈáèÂØπÊØî'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // C/P Ratio Chart
        const cpCtx = document.getElementById('cpRatioChart').getContext('2d');
        new Chart(cpCtx, {
            type: 'bar',
            data: {
                labels: ["BYND", "NVDA", "TSLA", "GLD", "SLV", "PLTR", "AAPL", "AMD", "IBIT", "AMZN", "OPEN", "TLT", "SPX", "NFLX", "INTC", "HOOD", "SOFI", "GOOGL", "MSTR", "UUUU", "MARA", "RGTI", "MSFT", "GDX", "CRWV"],
                datasets: [
                    {
                        label: 'C/P Êàê‰∫§ÊØî',
                        data: [1.38, 1.94, 1.27, 1.55, 1.96, 1.39, 1.95, 1.38, 2.26, 3.02, 3.2, 2.08, 0.35, 1.15, 1.91, 1.7, 2.58, 1.86, 1.33, 2.83, 4.76, 0.61, 1.9, 1.31, 2.28],
                        backgroundColor: 'rgba(255, 99, 132, 0.6)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'C/P ÊåÅ‰ªìÊØî',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Call/Put ÊØî‰æãÂØπÊØî'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>